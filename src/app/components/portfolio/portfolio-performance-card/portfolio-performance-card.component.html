<mat-card 
  class="performance-card" 
  [ngClass]="cardTypeClass()" 
  [ngStyle]="dynamicStyles()"
  (click)="onCardClick()"
  [class.clickable]="!isLoading()">
  
  @if (isLoading()) {
  <!-- Skeleton -->
  <div class="skeleton-performance">
    <div class="skeleton-performance-header">
      <div class="skeleton-icon"></div>
      <div class="skeleton-performance-title"></div>
      <div class="skeleton-performance-percentage"></div>
    </div>
    <div class="skeleton-performance-amount"></div>
  </div>
  } @else if (data()) {
  <!-- Contenido normal -->
  <div class="performance-header">
    @if (data().type === 'total') {
    <span>ðŸ’°</span>
    } @else {
    <mat-icon class="performance-icon">{{ data().icon }}</mat-icon>
    }
    <span [class]="titleClass()">RENDIMIENTO {{ data().name }}</span>
    <div class="performance-indicators">
      <span class="performance-percentage" [ngClass]="performanceClass()">
        <span [class.hidden-amount]="hideAmounts()">
          @if (hideAmounts()) {
          â€¢â€¢â€¢â€¢â€¢â€¢
          } @else {
          {{ data().percentageGain >= 0 ? '+' : '' }}{{ data().percentageGain }}%
          }
        </span>
      </span>
    </div>
  </div>

  <div class="performance-amount" [ngClass]="performanceClass()">
    <span [class.hidden-amount]="hideAmounts()">
      @if (hideAmounts()) {
      â€¢â€¢â€¢â€¢â€¢â€¢
      } @else {
      {{ data().amountGain >= 0 ? '+' : '' }}{{ data().amountGain | currencyFormat:'USD' }}
      }
    </span>
    <mat-icon class="trend-icon" [ngClass]="performanceClass()">
      {{ data().percentageGain >= 0 ? 'trending_up' : 'trending_down' }}
    </mat-icon>
  </div>
  } @else {
  <!-- Skeleton por defecto cuando no hay data -->
  <div class="skeleton-performance">
    <div class="skeleton-performance-header">
      <div class="skeleton-icon"></div>
      <div class="skeleton-performance-title"></div>
      <div class="skeleton-performance-percentage"></div>
    </div>
    <div class="skeleton-performance-amount"></div>
  </div>
  }
</mat-card>